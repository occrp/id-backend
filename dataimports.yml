# docker compose config for dataimports
# http://docs.docker.com/compose/
#
id2dataimports:
  build: .
  expose:
    - "8000"
  links:
    - postgres
    - neo4j
    - elasticsearch
  command: /bin/bash
  volumes:
    - "../export-prod/:/data"
    - "./:/usr/src/id2/"
    - "../google_appengine/:/usr/src/google_appengine/"
    - "../investigative-dashboard/:/usr/src/id/"
neo4j:
  image: tpires/neo4j
  cap_add:
    - SYS_RESOURCE
postgres:
  image: postgres
  volumes:
    - 'db/:/var/lib/postgresql/data'
  environment:
    POSTGRES_USER:     id2
    POSTGRES_PASSWORD: id2
    POSTGRES_DATABASE: id2
elasticsearch:
  image: elasticsearch:1.5